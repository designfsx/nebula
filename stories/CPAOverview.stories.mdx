import { Meta, Source } from '@storybook/addon-docs';

import dedent from 'ts-dedent';

<Meta title="Journey/CPA/Overview" />

<style>{`
  .subheading {
    --mediumdark: '#999999';
    font-weight: 900;
    font-size: 13px;
    color: #999;
    letter-spacing: 6px;
    line-height: 24px;
    text-transform: uppercase;
    margin-bottom: 12px;
    margin-top: 40px;
  }

  .link-list {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: 1fr 1fr;
    row-gap: 10px;
  }

  @media (min-width: 620px) {
    .link-list {
      row-gap: 20px;
      column-gap: 20px;
      grid-template-columns: 1fr 1fr;
    }
  }

  @media all and (-ms-high-contrast:none) {
  .link-list {
      display: -ms-grid;
      -ms-grid-columns: 1fr 1fr;
      -ms-grid-rows: 1fr 1fr;
    }
  }

  .link-item {
    display: block;
    padding: 20px 30px 20px 15px;
    border: 1px solid #00000010;
    border-radius: 5px;
    transition: background 150ms ease-out, border 150ms ease-out, transform 150ms ease-out;
    color: #333333;
    display: flex;
    align-items: flex-start;
  }

  .link-item:hover {
    border-color: #1EA7FD50;
    transform: translate3d(0, -3px, 0);
    box-shadow: rgba(0, 0, 0, 0.08) 0 3px 10px 0;
  }

  .link-item:active {
    border-color: #1EA7FD;
    transform: translate3d(0, 0, 0);
  }

  .link-item strong {
    font-weight: 700;
    display: block;
    margin-bottom: 2px;
  }
  
  .link-item img {
    height: 40px;
    width: 40px;
    margin-right: 15px;
    flex: none;
  }

  .link-item span {
    font-size: 14px;
    line-height: 20px;
  }

  .tip {
    display: inline-block;
    border-radius: 1em;
    font-size: 11px;
    line-height: 12px;
    font-weight: 700;
    background: #E7FDD8;
    color: #66BF3C;
    padding: 4px 12px;
    margin-right: 10px;
    vertical-align: top;
  }

  .tip-wrapper {
    font-size: 13px;
    line-height: 20px;
    margin-top: 40px;
    margin-bottom: 40px;
  }

  .tip-wrapper code {
    font-size: 12px;
    display: inline-block;
  }

  
`}</style>

# CPA (Cost Per Acquisition)

This page contains step-by-step instructions on how to get started on an affiliate lander with a CPA (Cost Per Acquisition) journey.

Include existing iFrame resizer script via relative path (Do Not have local copies. Exception: Front Doors) and implement

If lander collects any data relevant to the offer or journey it must be properly validated if applicable, then appended to the iFrame src attribute

Test to ensure that youâ€™re not double loading the iFrame (For example if a lander is using a modal or a show/hide for an iFrame, we need to make sure that un-hiding the iframe doesn't double count (we've seen this happen with the EPC adverts as well as join form iFrames)). Note: use the network tab of the web inspector to see the page and assets loaded

Utilize the `$landerTools` to print out appropriate program specific path for a_aid, iFrame being used:

If iFrame is to be right on the page:

<div className="subheading">Code Snippet</div>

<Source
    language='html'
    format={true}
    code={dedent`
     <iframe id="frame" src="<?php echo $landerTools->makeIframeSrc(); ?>"></iframe>
  `}
/>

<div className="tip-wrapper">
    <span className="tip">Example</span>{' '}
    <code>https://dev.wiredcircular.com/tools/landers/st/001bmr/?a_aid=cleandate2</code>
</div>